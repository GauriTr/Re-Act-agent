This is the code used in the medium article 
